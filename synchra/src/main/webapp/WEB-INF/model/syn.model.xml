<?xml version="1.0" encoding="utf-8" ?>

<model xmlns="http://www.top-logic.com/ns/dynamic-types/6.0">
	<module name="syn">
		<annotations>
			<package-binding
				implementation-package="com.top_logic.synchra.model.implementation"
				interface-package="com.top_logic.synchra.model.interfaces"
			/>
			<singletons>
				<singleton type="TreeRoot"/>
			</singletons>
			<factory value="com.top_logic.synchra.model.ModelFactory"/>
		</annotations>
		<enum name="ActivityKind">
			<classifier name="TECHNICAL"/>
			<classifier name="ORGANISATORIC"/>
		</enum>
		<enum name="CompanyStructure">
			<classifier name="AG"/>
			<classifier name="GmbH"/>
			<classifier name="CoKG"/>
		</enum>
		<class name="Activity">
			<generalizations>
				<generalization type="tl.model:TLObject"/>
			</generalizations>
			<annotations>
				<form-definition>
					<form>
						<field
							attribute="name"
							fullQualifiedName="syn:Activity#name"
							type="tl.core:String"
						/>
						<field
							attribute="costs"
							fullQualifiedName="syn:Activity#costs"
							type="tl.core:Integer"
						/>
						<field
							attribute="kind"
							fullQualifiedName="syn:Activity#kind"
							type="syn:ActivityKind"
						/>
						<field
							attribute="description"
							fullQualifiedName="syn:Activity#description"
							type="tl.model.wysiwyg:Html"
						/>
						<field
							attribute="valuations"
							fullQualifiedName="syn:Activity#valuations"
							type="kpi:Valuation"
						>
							<annotations>
								<main-properties properties="kpi,valuated,value"/>
							</annotations>
						</field>
					</form>
				</form-definition>
				<instance-presentation icon="css:bi bi-activity"/>
			</annotations>
			<attributes>
				<property name="name"
					mandatory="true"
					type="tl.core:String"
				/>
				<property name="description"
					type="tl.model.wysiwyg:Html"
				/>
				<property name="costs"
					type="tl.core:Integer"
				/>
				<property name="activityId"
					type="tl.core:String"
				>
					<annotations>
						<default-value>
							<provider class="com.top_logic.element.structured.util.NumberHandlerDefaultProvider"
								pattern="M-%NUMBER%"
								sequence-name="Massnahmen"
							/>
						</default-value>
						<visibility value="read-only"/>
						<create-visibility value="read-only"/>
					</annotations>
				</property>
				<reference name="kind"
					kind="forwards"
					mandatory="true"
					navigate="true"
					type="ActivityKind"
				>
					<annotations>
						<default-value>
							<classifier value="TECHNICAL"/>
						</default-value>
					</annotations>
				</reference>
				<reference name="valuations"
					composite="true"
					inverse-reference="activity"
					kind="forwards"
					multiple="true"
					navigate="true"
					type="kpi:Valuation"
				/>
			</attributes>
		</class>
		<class name="Company">
			<generalizations>
				<generalization type="tl.model:TLObject"/>
			</generalizations>
			<annotations>
				<form-definition>
					<form>
						<static-html>
							<content><![CDATA[<p><span style="font-size:36px"><strong>Details Firmenkontakt</strong></span></p>
]]></content>
						</static-html>
						<group>
							<field
								attribute="name"
								fullQualifiedName="syn:Company#name"
								type="tl.core:String"
							/>
							<field
								attribute="structure"
								fullQualifiedName="syn:Company#structure"
								type="syn:CompanyStructure"
							/>
							<label key="dynamic.5dae300d-1547-4871-840b-5455236645ad">
								<en>Base Data</en>
								<de>Basisdaten</de>
							</label>
						</group>
						<group>
							<field
								attribute="contactPerson"
								fullQualifiedName="syn:Company#contactPerson"
								type="tl.core:String"
							/>
							<field
								attribute="phone"
								fullQualifiedName="syn:Company#phone"
								type="tl.core:String"
							/>
							<label key="dynamic.305a3563-965b-402e-a044-c7c861b71154">
								<en>Contact</en>
								<de>Kontakt</de>
							</label>
						</group>
						<other-attributes/>
						<field
							attribute="canDeliver"
							fullQualifiedName="syn:Company#canDeliver"
							type="syn:Component"
						/>
					</form>
				</form-definition>
				<instance-presentation icon="css:fa-regular fa-building"/>
			</annotations>
			<attributes>
				<property name="name"
					mandatory="true"
					type="tl.core:String"
				/>
				<reference name="structure"
					kind="forwards"
					mandatory="true"
					navigate="true"
					type="CompanyStructure"
				/>
				<property name="contactPerson"
					type="tl.core:String"
				/>
				<property name="phone"
					type="tl.core:String"
				/>
				<reference name="canDeliver"
					inverse-reference="canBeDelivered"
					kind="forwards"
					multiple="true"
					navigate="true"
					ordered="true"
					type="Component"
				/>
			</attributes>
		</class>
		<interface name="Component">
			<generalizations>
				<generalization type="tl.model:TLObject"/>
				<generalization type="kpi:KpiAware"/>
			</generalizations>
			<attributes>
				<property name="name"
					mandatory="true"
					type="tl.core:String"
				/>
				<reference name="used"
					inverse-reference="consistsOf"
					kind="backwards"
					multiple="true"
					navigate="true"
					type="Connection"
				/>
				<property name="price"
					type="tl.core:Double"
				/>
				<reference name="risks"
					inverse-reference="components"
					kind="backwards"
					multiple="true"
					navigate="true"
					type="risk:Risk"
				/>
				<property name="componentID"
					type="tl.core:String"
				/>
				<property name="priceAfterActivities"
					type="tl.core:Double"
				>
					<annotations>
						<storage-algorithm>
							<query>
								<expr><![CDATA[comp -> $comp.get(`syn:Component#price`) + $comp.get(`syn:Component#priceActivityContribution`)
        ]]></expr>
							</query>
						</storage-algorithm>
					</annotations>
				</property>
				<reference name="pictures"
					bag="true"
					kind="forwards"
					multiple="true"
					navigate="true"
					ordered="true"
					type="tl.imagegallery:GalleryImage"
				/>
				<property name="weight"
					type="tl.core:Double"
				/>
				<property name="weightAfterActivities"
					type="tl.core:Double"
				>
					<annotations>
						<storage-algorithm>
							<query>
								<expr><![CDATA[comp -> $comp.get(`syn:Component#weight`) + $comp.get(`syn:Component#weightActivityContribution`)
       ]]></expr>
							</query>
						</storage-algorithm>
					</annotations>
				</property>
				<property name="priceActivityContribution"
					type="tl.core:Double"
				>
					<annotations>
						<storage-algorithm>
							<query>
								<expr><![CDATA[comp -> $comp.get(`syn:Component#valuations`).filter(
        v -> $v.get(`kpi:AbstractValuation#kpi`).get(`kpi:Kpi#name`).equals("Preis")).
        map(v -> $v.get(`kpi:AbstractValuation#value`)).sum()]]></expr>
							</query>
						</storage-algorithm>
					</annotations>
				</property>
				<property name="weightActivityContribution"
					type="tl.core:Double"
				>
					<annotations>
						<storage-algorithm>
							<query>
								<expr><![CDATA[comp -> $comp.get(`syn:Component#valuations`).filter(
        v -> $v.get(`kpi:AbstractValuation#kpi`).get(`kpi:Kpi#name`).equals("Gewicht")).
        map(v -> $v.get(`kpi:AbstractValuation#value`)).sum()]]></expr>
							</query>
						</storage-algorithm>
					</annotations>
				</property>
				<property name="goalPrice"
					type="tl.core:Double"
				/>
				<reference name="isAffectedByProblem"
					inverse-reference="isRelatedToComponent"
					kind="backwards"
					multiple="true"
					navigate="true"
					type="prob:Problem"
				/>
				<reference name="canBeDelivered"
					inverse-reference="canDeliver"
					kind="backwards"
					multiple="true"
					navigate="true"
					type="Company"
				/>
				<reference name="suppliers"
					kind="forwards"
					multiple="true"
					navigate="true"
					type="Company"
				>
					<annotations>
						<options>
							<options-by-expression function="c -> $c.get(`syn:Component#canBeDelivered`)"/>
						</options>
					</annotations>
				</reference>
			</attributes>
		</interface>
		<class name="ConstructionGroup">
			<generalizations>
				<generalization type="Component"/>
			</generalizations>
			<annotations>
				<instance-presentation icon="css:fa-solid fa-object-group"/>
				<form-definition>
					<form>
						<static-html>
							<content><![CDATA[<p><span style="font-size:36px"><strong>Details Baugruppe</strong></span></p>
]]></content>
						</static-html>
						<other-attributes/>
						<field
							attribute="name"
							fullQualifiedName="syn:Component#name"
							type="tl.core:String"
						/>
						<field
							attribute="goalPrice"
							fullQualifiedName="syn:Component#goalPrice"
							type="tl.core:Double"
						/>
						<field
							attribute="consistsOf"
							fullQualifiedName="syn:ConstructionGroup#consistsOf"
							type="syn:Connection"
						>
							<annotations>
								<label-position value="hide-label"/>
							</annotations>
						</field>
					</form>
				</form-definition>
			</annotations>
			<attributes>
				<reference name="consistsOf"
					composite="true"
					inverse-reference="used"
					kind="forwards"
					multiple="true"
					navigate="true"
					type="Connection"
				>
					<annotations>
						<constraints>
							<constraint class="com.top_logic.model.util.NoAttributeCycle">
								<additional-observed-references>
									<additional-observed-reference name="consistsOf"
										definition="syn:Connection"
									/>
								</additional-observed-references>
							</constraint>
						</constraints>
					</annotations>
				</reference>
				<property name="price"
					override="true"
					type="tl.core:Double"
				>
					<annotations>
						<storage-algorithm>
							<query expr="grp -> $grp.get(`syn:ConstructionGroup#consistsOf`).get(`syn:Connection#consistsOf`).get(`syn:Component#price`).sum()"/>
						</storage-algorithm>
					</annotations>
				</property>
				<property name="componentID"
					override="true"
					type="tl.core:String"
				>
					<annotations>
						<default-value>
							<provider class="com.top_logic.element.structured.util.NumberHandlerDefaultProvider"
								pattern="BG-%NUMBER%"
								sequence-name="Komponente"
							/>
						</default-value>
						<create-visibility value="read-only"/>
						<visibility value="read-only"/>
					</annotations>
				</property>
				<property name="weight"
					override="true"
					type="tl.core:Double"
				>
					<annotations>
						<storage-algorithm>
							<query expr="grp -> $grp.get(`syn:ConstructionGroup#consistsOf`).get(`syn:Connection#consistsOf`).get(`syn:Component#weight`).sum()"/>
						</storage-algorithm>
					</annotations>
				</property>
				<property name="priceAfterActivities"
					override="true"
					type="tl.core:Double"
				>
					<annotations>
						<storage-algorithm>
							<query>
								<expr><![CDATA[grp -> $grp.get(`syn:ConstructionGroup#consistsOf`).get(`syn:Connection#consistsOf`).get(`syn:Component#priceAfterActivities`).sum() + 
         $grp.get(`syn:Component#valuations`).filter(
        v -> $v.get(`kpi:AbstractValuation#kpi`).get(`kpi:Kpi#name`).equals("Preis")).
        map(v -> $v.get(`kpi:AbstractValuation#value`)).sum()]]></expr>
							</query>
						</storage-algorithm>
					</annotations>
				</property>
				<property name="weightAfterActivities"
					override="true"
					type="tl.core:Double"
				>
					<annotations>
						<storage-algorithm>
							<query>
								<expr><![CDATA[grp -> $grp.get(`syn:ConstructionGroup#consistsOf`).get(`syn:Connection#consistsOf`).get(`syn:Component#weightAfterActivities`).sum() + 
         $grp.get(`syn:Component#valuations`).filter(
        v -> $v.get(`kpi:AbstractValuation#kpi`).get(`kpi:Kpi#name`).equals("Gewicht")).
        map(v -> $v.get(`kpi:AbstractValuation#value`)).sum()]]></expr>
							</query>
						</storage-algorithm>
					</annotations>
				</property>
			</attributes>
		</class>
		<class name="SinglePart">
			<generalizations>
				<generalization type="Component"/>
			</generalizations>
			<annotations>
				<instance-presentation icon="css:fa-solid fa-diamond"/>
			</annotations>
			<attributes>
				<reference name="company"
					kind="forwards"
					navigate="true"
					type="Company"
				/>
				<reference name="material"
					kind="forwards"
					multiple="true"
					navigate="true"
					type="Material"
				/>
				<reference name="catalog"
					aggregate="true"
					inverse-reference="parts"
					kind="backwards"
					navigate="true"
					type="PartCatalog"
				/>
				<property name="componentID"
					override="true"
					type="tl.core:String"
				>
					<annotations>
						<default-value>
							<provider class="com.top_logic.element.structured.util.NumberHandlerDefaultProvider"
								pattern="T-%NUMBER%"
								sequence-name="Komponente"
							/>
						</default-value>
						<create-visibility value="read-only"/>
						<visibility value="read-only"/>
					</annotations>
				</property>
			</attributes>
		</class>
		<class name="ComponentNode">
			<generalizations>
				<generalization type="tl.model:TLObject"/>
			</generalizations>
			<attributes>
				<reference name="component"
					kind="forwards"
					mandatory="true"
					navigate="true"
					type="Component"
				/>
				<reference name="connection"
					kind="forwards"
					navigate="true"
					type="Connection"
				/>
				<reference name="parent"
					inverse-reference="children"
					kind="forwards"
					navigate="true"
					type="ComponentNode"
				/>
				<property name="name"
					type="tl.core:String"
				>
					<annotations>
						<storage-algorithm>
							<query expr="node -> $node.get(`syn:ComponentNode#component`).isEmpty() ?$node.get(`syn:ComponentNode#product`).get(`syn:Product#name`): $node.get(`syn:ComponentNode#component`).get(`syn:Component#name`)"/>
						</storage-algorithm>
					</annotations>
				</property>
				<reference name="product"
					kind="forwards"
					type="Product"
				/>
				<reference name="children"
					inverse-reference="parent"
					kind="backwards"
					multiple="true"
					navigate="true"
					type="ComponentNode"
				/>
				<property name="price"
					type="tl.core:Double"
				>
					<annotations>
						<storage-algorithm>
							<query>
								<expr><![CDATA[node -> if( $node.get(`syn:ComponentNode#component`).instanceOf(`syn:SinglePart`),
 $node.get(`syn:ComponentNode#component`).get(`syn:SinglePart#price`),
 $node.get(`syn:ComponentNode#children`).get(`syn:ComponentNode#price`).sum()
)]]></expr>
							</query>
						</storage-algorithm>
					</annotations>
				</property>
				<property name="priceAfterActivities"
					type="tl.core:Double"
				>
					<annotations>
						<storage-algorithm>
							<query>
								<expr><![CDATA[node -> if( $node.get(`syn:ComponentNode#component`).instanceOf(`syn:SinglePart`),
 $node.get(`syn:ComponentNode#component`).get(`syn:SinglePart#price`),
 $node.get(`syn:ComponentNode#children`).get(`syn:ComponentNode#priceAfterActivities`).sum()
) + $node.get(`syn:ComponentNode#priceActivityContribution`)]]></expr>
							</query>
						</storage-algorithm>
					</annotations>
				</property>
				<property name="priceActivityContribution"
					type="tl.core:Double"
				>
					<annotations>
						<storage-algorithm>
							<query expr="node -> $node.get(`syn:ComponentNode#component`).get(`syn:Component#priceActivityContribution`)"/>
						</storage-algorithm>
					</annotations>
				</property>
				<property name="goalPrice"
					type="tl.core:Float"
				>
					<annotations>
						<storage-algorithm>
							<query>
								<expr><![CDATA[node -> if( $node.get(`syn:ComponentNode#component`).instanceOf(`syn:SinglePart`),
 $node.get(`syn:ComponentNode#component`).get(`syn:SinglePart#goalPrice`),
 $node.get(`syn:ComponentNode#children`).get(`syn:ComponentNode#goalPrice`).sum()
)]]></expr>
							</query>
						</storage-algorithm>
					</annotations>
				</property>
			</attributes>
		</class>
		<class name="Connection">
			<generalizations>
				<generalization type="tl.model:TLObject"/>
			</generalizations>
			<attributes>
				<reference name="used"
					aggregate="true"
					inverse-reference="consistsOf"
					kind="backwards"
					navigate="true"
					type="ConstructionGroup"
				/>
				<reference name="consistsOf"
					inverse-reference="used"
					kind="forwards"
					mandatory="true"
					navigate="true"
					type="Component"
				/>
				<property name="position"
					type="tl.core:String"
				/>
			</attributes>
		</class>
		<class name="Material">
			<generalizations>
				<generalization type="tl.model:TLObject"/>
			</generalizations>
			<attributes>
				<property name="name"
					mandatory="true"
					type="tl.core:String"
				/>
			</attributes>
		</class>
		<class name="PartCatalog">
			<generalizations>
				<generalization type="tl.model:TLObject"/>
			</generalizations>
			<attributes>
				<property name="name"
					mandatory="true"
					type="tl.core:String"
				/>
				<reference name="parts"
					composite="true"
					inverse-reference="catalog"
					kind="forwards"
					multiple="true"
					navigate="true"
					type="SinglePart"
				/>
				<reference name="partGroups"
					kind="forwards"
					multiple="true"
					navigate="true"
					type="PartsGroup"
				>
					<annotations>
						<storage-algorithm>
							<query>
								<expr><![CDATA[catalog -> 
all(`syn:Company`).map( company -> 
        new(`syn:PartsGroup`, transient: true)
	..set(`syn:PartsGroup#name`, $company.get(`syn:Company#name`))
	..set(`syn:PartsGroup#parts`, 
	         $catalog.get(`syn:PartCatalog#parts`).filter(part -> $part.get(`syn:SinglePart#company`)==$company)
	       )  
)]]></expr>
							</query>
						</storage-algorithm>
						<create-visibility value="hidden"/>
						<visibility value="hidden"/>
					</annotations>
				</reference>
				<reference name="materialGroups"
					kind="forwards"
					multiple="true"
					navigate="true"
					type="PartsGroup"
				>
					<annotations>
						<storage-algorithm>
							<query>
								<expr><![CDATA[catalog -> 
all(`syn:Material`).map( material -> 
        new(`syn:PartsGroup`, transient: true)
	..set(`syn:PartsGroup#name`, $material.get(`syn:Material#name`))
	..set(`syn:PartsGroup#parts`, 
	         $catalog.get(`syn:PartCatalog#parts`).filter(part -> $part.get(`syn:SinglePart#material`).containsElement($material))
	       )  
)
]]></expr>
							</query>
						</storage-algorithm>
						<create-visibility value="hidden"/>
						<visibility value="hidden"/>
					</annotations>
				</reference>
				<reference name="materialCompany"
					kind="forwards"
					multiple="true"
					navigate="true"
					type="PartsGroup"
				>
					<annotations>
						<storage-algorithm>
							<query>
								<expr><![CDATA[catalog -> 
all(`syn:Company`).map( company -> 
    new(`syn:PartsGroup`, transient: true)
	  ..set(`syn:PartsGroup#name`, $company.get(`syn:Company#name`))
	  ..set(`syn:PartsGroup#parts`,      
		  all(`syn:Material`).map( material -> 
	         new(`syn:PartsGroup`, transient: true)
		       ..set(`syn:PartsGroup#name`, $material.get(`syn:Material#name`))
		       ..set(`syn:PartsGroup#parts`, 
		         $catalog.get(`syn:PartCatalog#parts`).filter(
		        	 part -> $part.get(`syn:SinglePart#material`).containsElement($material) && $part.get(`syn:SinglePart#company`)==$company
		        )
		   )  
	    ) 
     )
)]]></expr>
							</query>
						</storage-algorithm>
						<create-visibility value="hidden"/>
						<visibility value="hidden"/>
					</annotations>
				</reference>
			</attributes>
		</class>
		<class name="PartsGroup">
			<generalizations>
				<generalization type="tl.model:TLObject"/>
			</generalizations>
			<attributes>
				<property name="name"
					type="tl.core:String"
				/>
				<reference name="parts"
					kind="forwards"
					multiple="true"
					navigate="true"
					type="tl.model:TLObject"
				/>
			</attributes>
		</class>
		<class name="PartsListEntry">
			<generalizations>
				<generalization type="tl.model:TLObject"/>
			</generalizations>
			<attributes>
				<reference name="part"
					kind="forwards"
					mandatory="true"
					navigate="true"
					type="SinglePart"
				/>
				<reference name="connections"
					kind="forwards"
					multiple="true"
					navigate="true"
					type="Connection"
				/>
				<property name="count"
					type="tl.core:Integer"
				>
					<annotations>
						<storage-algorithm>
							<query expr="entry -> $entry.get(`syn:PartsListEntry#connections`).size()"/>
						</storage-algorithm>
					</annotations>
				</property>
				<property name="costs"
					type="tl.core:Double"
				>
					<annotations>
						<storage-algorithm>
							<query expr="entry -> $entry.get(`syn:PartsListEntry#part`).get(`syn:SinglePart#price`) * $entry.get(`syn:PartsListEntry#count`)"/>
						</storage-algorithm>
					</annotations>
				</property>
				<property name="singlePrice"
					type="tl.core:Double"
				>
					<annotations>
						<storage-algorithm>
							<query expr="entry -> $entry.get(`syn:PartsListEntry#part`).get(`syn:SinglePart#price`)"/>
						</storage-algorithm>
					</annotations>
				</property>
				<reference name="materials"
					kind="forwards"
					multiple="true"
					navigate="true"
					type="Material"
				>
					<annotations>
						<storage-algorithm>
							<query expr="entry -> $entry.get(`syn:PartsListEntry#part`).get(`syn:SinglePart#material`)"/>
						</storage-algorithm>
					</annotations>
				</reference>
				<reference name="producer"
					kind="forwards"
					navigate="true"
					type="Company"
				>
					<annotations>
						<storage-algorithm>
							<query expr="entry -> $entry.get(`syn:PartsListEntry#part`).get(`syn:SinglePart#company`)"/>
						</storage-algorithm>
					</annotations>
				</reference>
			</attributes>
		</class>
		<class name="Problem">
			<generalizations>
				<generalization type="tl.model:TLObject"/>
			</generalizations>
			<attributes>
				<property name="name"
					mandatory="true"
					type="tl.core:String"
				/>
				<property name="description"
					type="tl.model.wysiwyg:Html"
				/>
				<reference name="components"
					kind="forwards"
					multiple="true"
					navigate="true"
					type="Component"
				/>
				<reference name="solvingActivities"
					kind="forwards"
					multiple="true"
					navigate="true"
					type="Activity"
				/>
			</attributes>
		</class>
		<class name="Product">
			<generalizations>
				<generalization type="tl.model:TLObject"/>
			</generalizations>
			<annotations>
				<form-definition>
					<form>
						<field
							attribute="name"
							fullQualifiedName="syn:Product#name"
							type="tl.core:String"
						/>
					</form>
				</form-definition>
			</annotations>
			<attributes>
				<reference name="buildGroup"
					composite="true"
					kind="forwards"
					mandatory="true"
					navigate="true"
					type="ConstructionGroup"
				/>
				<property name="name"
					mandatory="true"
					type="tl.core:String"
				/>
				<property name="productId"
					type="tl.core:String"
				>
					<annotations>
						<default-value>
							<provider class="com.top_logic.element.structured.util.NumberHandlerDefaultProvider"
								pattern="P-%NUMBER%"
								sequence-name="Produkt"
							/>
						</default-value>
						<create-visibility value="read-only"/>
						<visibility value="read-only"/>
					</annotations>
				</property>
			</attributes>
		</class>
		<class name="ProductSelection">
			<generalizations>
				<generalization type="tl.model:TLObject"/>
			</generalizations>
			<annotations>
				<form-definition>
					<form>
						<field
							attribute="product"
							fullQualifiedName="syn:ProductSelection#product"
							type="syn:Product"
						/>
						<field
							attribute="referenceDate"
							fullQualifiedName="syn:ProductSelection#referenceDate"
							type="tl.core:DateTime"
						/>
					</form>
				</form-definition>
			</annotations>
			<attributes>
				<reference name="product"
					kind="forwards"
					mandatory="true"
					navigate="true"
					type="Product"
				/>
				<property name="rule"
					type="tl.core:String"
				/>
				<property name="referenceDate"
					type="tl.core:DateTime"
				/>
				<reference name="productInRevision"
					kind="forwards"
					mandatory="true"
					navigate="true"
					type="Product"
				>
					<annotations>
						<storage-algorithm>
							<query>
								<expr><![CDATA[sel -> {date = $sel.get(`syn:ProductSelection#referenceDate`);
        revision = $date==null ?  currentRevision() : revisionAt($date);
        $sel.get(`syn:ProductSelection#product`).inRevision($revision);
        }]]></expr>
							</query>
						</storage-algorithm>
					</annotations>
				</reference>
			</attributes>
		</class>
		<class name="TreeRoot">
			<generalizations>
				<generalization type="tl.model:TLObject"/>
			</generalizations>
		</class>
	</module>
</model>